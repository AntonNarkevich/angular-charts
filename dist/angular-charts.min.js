angular.module("angularCharts",["angularChartsTemplates"]),angular.module("angularCharts").directive("acChart",["$templateCache","$compile","$window",function(a,b,c){function d(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b}function e(b,e,i){function j(){t=b[i.acData],m(),k(),l();var a=n(i.acChart);a()}function k(){if(!h.legend.display)return w=B,x=A,void 0;switch(h.legend.position){case"top":case"bottom":w=.75*B,x=A;break;case"left":case"right":w=B,x=.75*A}}function l(){var b=a.get(h.legend.position);e.html(b),y=e.find(".ac-chart"),z=e.find(".ac-legend"),z.html("<h1>Hello World</h1>")}function m(){u=t.series,v=t.data,b[i.acConfig]&&angular.extend(h,b[i.acConfig])}function n(a){var b={pie:r,bar:o,line:p,area:q};return b[a]}function o(){}function p(){}function q(){}function r(){{var a=Math.min(x,w)/2,b=d3.select(y[0]).append("svg").attr("width",x).attr("height",w).append("g").attr("transform","translate("+x/2+","+w/2+")"),c=d3.svg.arc().outerRadius(a-10).innerRadius(0),d=(d3.svg.arc().outerRadius(a+5).innerRadius(0),d3.layout.pie().sort(null).value(function(a){return a.y[0]})),e=b.selectAll(".arc").data(d(v)).enter().append("g");e.append("path").style("fill",function(a,b){return s(b)}).transition().duration(500).attr("d",c).attr("class","arc")}e.on("mouseover",function(a){angular.element('<p class="ac-tooltip" style="'+f+'"></p>').html(a.data.tooltip||a.data.y[0]).appendTo("body").fadeIn("slow").css({left:event.pageX+20,top:event.pageY-30}),d3.select(this).select("path").transition().duration(200).style("stroke","white").style("stroke-width","2px")}).on("mouseleave",function(){d3.select(this).select("path").transition().duration(200).style("stroke","").style("stroke-width",""),angular.element(".ac-tooltip").remove()}).on("mousemove",function(){angular.element(".ac-tooltip").css({left:event.pageX+20,top:event.pageY-30})}),h.labels&&e.append("text").attr("transform",function(a){return"translate("+c.centroid(a)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(a){return a.data.y[0]})}function s(a){return g[a]||d()}var t,u,v,w,x,y,z,A=e.width(),B=e.height(),C=angular.element(c);b.getWindowDimensions=function(){return{h:C.height(),w:C.width()}},b.$watch(i.acChart,function(){j()},!0),b.$watch(i.acData,function(){j()},!0)}var f=["display:none;","position:absolute;","border:1px solid #333;","background-color:#161616;","border-radius:5px;","padding:5px;","color:#fff;"].join(""),g=["rgb(255,153,0)","rgb(220,57,18)","rgb(70,132,238)","rgb(73,66,204)","rgb(0,128,0)"],h={title:"",tooltips:!0,labels:!1,mouseover:function(){},mouseout:function(){},click:function(){},legend:{display:!0,position:"left"}};return{restrict:"EA",link:e}}]),angular.module("angularChartsTemplates",["left"]),angular.module("left",[]).run(["$templateCache",function(a){a.put("left","<div class='ac-legend' style='float:left; width:25%;'>\n</div>\n<div class='ac-chart' style='float:left; width:75%;'>\n</div>")}]);